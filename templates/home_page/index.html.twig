{% extends 'base.html.twig' %}

{% block title %}Accueil - AquaBiome{% endblock %}
{% block page_name %}Accueil{% endblock %}
{% block page_icon %}ğŸ {% endblock %}

{% block stylesheets %}
    {{ parent() }}
    <link rel="stylesheet" href="{{ asset('styles/home.css') }}">
{% endblock %}

{% block body %}


<div class="home-content">
    
   {# Header de bienvenue personnalisÃ© #}
    <section class="user-welcome">
        <div class="welcome-avatar">ğŸ‘¤</div>
        <p>
            Bienvenue Ã  toi, 
            <strong>{{ app.user ? app.user.userIdentifier : 'InvitÃ©' }}</strong>
        </p>
    </section>

    {# Section Alertes #}
    <section class="alerts-section">
        <div class="alert-card">
            <h3>Alerte(s) & Notifications</h3>
            <div style="height: 40px;">
                {% if mesure is null %}
                    <p style="font-size: 0.8rem; color: #666;">Aucune donnÃ©e enregistrÃ©e pour le moment.</p>
                {% else %}
                    <p style="font-size: 0.8rem; color: #27ae60;">DerniÃ¨re mise Ã  jour : {{ mesure.dateSaisie|date('d/m/Y H:i') }}</p>
                {% endif %}
            </div>
        </div>
    </section>

    {# Grille des paramÃ¨tres dynamiques #}
    <section class="stats-grid">
        
        {# Carte TempÃ©rature #}
        <div class="stat-card">
            <span class="status-badge">Normal</span>
            <div class="stat-icon" style="color: #ff7675;">Â°C</div>
            <span class="stat-label">TempÃ©rature</span>
            <div class="stat-value">
                {{ (mesure and mesure.temperature is not null) ? mesure.temperature : '--' }}Â°C
            </div>
            <span class="stat-range">Plage: 22-26Â°C</span>
        </div>

        {# Carte pH #}
        <div class="stat-card">
            <span class="status-badge">Normal</span>
            <div class="stat-icon" style="color: #74b9ff;">ğŸ§ª</div>
            <span class="stat-label">pH</span>
            <div class="stat-value">
                {{ (mesure and mesure.ph is not null) ? mesure.ph : '--' }}
            </div>
            <span class="stat-range">Plage: 6.5-7.5</span>
        </div>

        {# Carte GH (Pleine largeur) #}
        <div class="stat-card full-width">
            <span class="status-badge">Normal</span>
            <div class="stat-icon" style="color: #00cec9;">ğŸ’§</div>
            <span class="stat-label">GH (DuretÃ© totale)</span>
            <div class="stat-value">
                {{ (mesure and mesure.gh is not null) ? mesure.gh : '--' }} Â°dH
            </div>
            <span class="stat-range">Plage: 6-12 Â°dH</span>
        </div>

    </section>
</div>
{% endblock %}