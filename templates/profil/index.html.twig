{% extends 'base.html.twig' %}

{% block title %}Profil - AquaBiome{% endblock %}

{# On dÃ©finit le nom et l'icÃ´ne pour le header de base.html.twig #}
{% block page_name %}Profil{% endblock %}
{% block page_icon %}ğŸ‘¤{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    <link rel="stylesheet" href="{{ asset('styles/profil.css') }}">
{% endblock %}

{% block body %}
<div class="profil-content">
    
    <div class="profil-label">Profil</div>

    {# Carte d'identitÃ© utilisateur dynamique #}
    <section class="user-card">
        <div class="avatar-large">ğŸ‘¤</div>
        
        <div class="user-info">
            {% if app.user %}
                {# Affiche le pseudo ou l'identifiant rÃ©el de l'utilisateur #}
                <h2>{{ app.user.userIdentifier }}</h2>
                
                {# Affiche l'email stockÃ© en base de donnÃ©es #}
                <p>{{ app.user.email }}</p>
                
                {# Lien de dÃ©connexion officiel de Symfony #}
                <a href="{{ path('app_logout') }}" class="btn-logout">Se DÃ©connecter</a>
            {% else %}
                {# Cas de secours si le mec arrive Ã  accÃ©der Ã  la page sans Ãªtre connectÃ© #}
                <h2>InvitÃ©</h2>
                <p>Veuillez vous connecter</p>
                <a href="{{ path('app_login') }}" class="btn-logout">Connexion</a>
            {% endif %}
        </div>
    </section>

    {# Section ParamÃ¨tres / Historique #}
    <section class="settings-section">
        <div class="profil-label">ParamÃ¨tres du Profil</div>
        
        <a href="#" class="history-item">
            <span class="icon-history">ğŸ”„</span>
            {# On peut mÃªme personnaliser le texte avec le nom de l'user #}
            Historique de {{ app.user ? app.user.userIdentifier : 'mon compte' }}
        </a>
    </section>

</div>
{% endblock %}